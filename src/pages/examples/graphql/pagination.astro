---
import Posts from '@components/Posts';
import Layout from '@layouts/Layout.astro';
import { invoker } from '@invoker';

let page = 1;
let limit = 3;

const posts = await invoker.posts.query({
  options: {
    paginate: {
      page,
      limit,
    },
  },
});
---

<Layout title='Posts'>
  <div class='dark:text-white'>
    <h1 class='text-5xl font-bold'>GraphQL w/ Pagination</h1>
    <p class='mt-3'>
      In this example we load initial static data, and then refetch new data with a Preact
      component.
    </p>
    <div class='mt-10 p-12 dark:bg-slate-800 bg-slate-200 rounded-lg'>
      <Posts initialPosts={posts} initialPage={page} limit={limit} client:load />
    </div>
  </div>
</Layout>
